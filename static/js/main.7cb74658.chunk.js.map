{"version":3,"sources":["assets/Liberal.JPG","assets/Fascist.JPG","assets/liberal-card-space.JPG","assets/liberal-card-enact.JPG","assets/liberal-card-win.JPG","assets/fascist-card-space.JPG","assets/fascist-card-enact.JPG","assets/fascist-card-win.JPG","firebaseConfig.js","firestore.js","theme.js","utils.js","PlayerList.js","Government.js","EventList.js","RoleModal.js","RoleReveal.js","DisplayPolicies.js","SimpleOverlay.js","ChoosePolicies.js","GameStatus.js","ActionBar.js","SpecialRulesModal.js","App.js","Main.js","Game.js","Routes.js","index.js"],"names":["module","exports","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","firestore","theme","blueTeam","redTeam","redTeamLeader","presidentTitle","chancellorTitle","RED","BLUE","updateGame","gameRef","newGame","set","lastUpdate","FieldValue","serverTimestamp","countPolicies","game","liberalPolicies","enactedPolicies","filter","p","liberal","length","fascist","identifyHitler","roles","players","i","hitlerIsChancellor","hitlerPlayer","get","refreshPolicies","shuffle","discards","policies","getRoleName","role","defaultTheme","isGameOver","gameOver","counts","governmentApproved","getThemedPolicyName","policy","PlayerList","playerName","headline","onPlayerClick","showRoles","government","president","chancellor","className","map","name","key","onClick","Government","showPotentialGovernment","EventList","show","events","shownEvents","slice","e","RoleModal","autoReveal","onHide","useState","setShow","handleClose","roleName","Modal","Header","closeButton","Title","capitalize","Body","alt","src","LiberalCardImg","FascistCardImg","r","getFascists","join","Footer","Button","variant","RoleReveal","handleOkay","team","getRoleTeam","DisplayPolicies","onPolicyClick","chosen","cardImg","SimpleOverlay","children","title","ChoosePolicies","resetChosen","Array","fill","policyChoices","setChosen","vetoChoice","accept","produce","draft","event","presidentHasChosen","chancellorHasVetoed","push","presidentRejectedVeto","console","log","getPolicies","job","type","idx","newChosen","togglePolicy","newPolicyChoices","unchosen","newPolicy","themedPolicyName","lastPresident","lastChancellor","confirmChoice","PolicySpace","img","GameStatus","endDeclaration","_","LiberalEnactedImage","LiberalSpaceImage","LiberalCardWin","FascistEnactedImage","FascistSpaceImage","FascistCardWin","ActionBar","confirmationNeeded","setConfirmationNeeded","viewing","setViewing","doneViewing","setDoneViewing","preparedState","setPreparedState","started","confirmAction","bool","tempPolicies","enactTopPolicy","presidentShouldInvestigate","SpecialRulesModal","numPlayers","size","App","props","hosting","setPresident","setChancellor","viewingIdentity","setViewingIdentity","chosenPlayer","setChosenPlayer","setGovernment","approved","handlePlayerClick","numLiberals","Math","ceil","randomRoles","result","forEach","assignRoles","L","F","createPolicies","wasLastPresident","defaultGame","host","presidentShouldKill","vetoAvailable","Main","savedName","localStorage","getItem","setGame","nameConfirmed","setNameConfirmed","gameCode","setGameCode","setGameRef","setName","setHosting","history","useHistory","handleHosting","a","preventDefault","setItem","collection","doc","gRef","onSnapshot","gameData","data","update","handleCreateGame","wordCode","arr","words","random","code","value","onChange","target","onSubmit","autoFocus","Game","setLoaded","submitted","setSubmitted","useEffect","register","includes","Routes","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7cb74658.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Liberal.5179a2ef.JPG\";","module.exports = __webpack_public_path__ + \"static/media/Fascist.ed402502.JPG\";","module.exports = __webpack_public_path__ + \"static/media/liberal-card-space.f5c7314a.JPG\";","module.exports = __webpack_public_path__ + \"static/media/liberal-card-enact.5179a2ef.JPG\";","module.exports = __webpack_public_path__ + \"static/media/liberal-card-win.de286c5f.JPG\";","module.exports = __webpack_public_path__ + \"static/media/fascist-card-space.61fe29af.JPG\";","module.exports = __webpack_public_path__ + \"static/media/fascist-card-enact.ed402502.JPG\";","module.exports = __webpack_public_path__ + \"static/media/fascist-card-win.84f89324.JPG\";","const firebaseConfig = {\n  apiKey: 'AIzaSyAvSp91vcvkgt9RYafRIgY8noH4NSX0P0g',\n  authDomain: 'isthisprime.firebaseapp.com',\n  databaseURL: 'https://isthisprime.firebaseio.com',\n  projectId: 'isthisprime',\n  storageBucket: 'isthisprime.appspot.com',\n  messagingSenderId: '522572340456',\n  appId: '1:522572340456:web:3f0afa40b9cb7d8550bd5d',\n}\n\nexport default firebaseConfig\n","import * as firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport firebaseConfig from './firebaseConfig'\nimport 'firebase/auth'\n\nfirebase.initializeApp(firebaseConfig)\n// firebase.analytics()\n\nconst firestore = firebase.firestore()\n\nexport default firestore\n","const theme = {\n  blueTeam: 'Gryffindor',\n  redTeam: 'Death-Eater',\n  redTeamLeader: 'Voldemort',\n  presidentTitle: 'Minister',\n  chancellorTitle: 'Vice-Minister',\n  RED: 'BAD',\n  BLUE: 'GOOD',\n}\n\nexport default theme\n","import * as firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport { get, shuffle, map, filter } from 'lodash'\nimport defaultTheme from './theme'\n\nexport const updateGame = (gameRef, newGame) => {\n  gameRef.set({\n    ...newGame,\n    lastUpdate: firebase.firestore.FieldValue.serverTimestamp(),\n  })\n}\n\nexport const countPolicies = (game) => {\n  const liberalPolicies = game.enactedPolicies.filter((p) => p === 'BLUE')\n  return {\n    liberal: liberalPolicies.length,\n    fascist: game.enactedPolicies.length - liberalPolicies.length,\n  }\n}\n\nexport const identifyHitler = (game) => {\n  const roles = game.roles\n  const players = game.players\n  let role\n  for (let i = 0; i < players.length; i++) {\n    role = roles[players[i]]\n    if (role === 'redLeader') {\n      return players[i]\n    }\n  }\n}\n\nexport const hitlerIsChancellor = (game) => {\n  const hitlerPlayer = identifyHitler(game)\n  const currentChancellor = get(game, 'government.chancellor')\n  return currentChancellor === hitlerPlayer\n}\n\nexport const hitlerAsChancellorWin = (game) => {\n  const counts = countPolicies(game)\n  const hitlerPlayer = identifyHitler(game)\n  const currentChancellor = get(game, 'government.chancellor')\n  if (counts.fascist < 3 || !game.governmentApproved || currentChancellor !== hitlerPlayer) {\n    return false\n  }\n  return true\n}\n\nexport const refreshPolicies = (game) => {\n  return shuffle([...game.discards, ...game.policies])\n}\n\nexport const getRoleName = (role, theme = defaultTheme) => {\n  const { blueTeam, redTeam, redTeamLeader } = theme\n  if (role === 'blue') {\n    return blueTeam\n  }\n  if (role === 'red') {\n    return redTeam\n  }\n  if (role === 'redLeader') {\n    return redTeamLeader\n  }\n}\n\nexport const getRoleTeam = (role, theme = defaultTheme) => {\n  const { blueTeam, redTeam } = theme\n  if (role === 'blue') {\n    return blueTeam\n  }\n  return redTeam\n}\n\nexport const getFascists = (game) => {\n  const { roles } = game\n  const fascists = filter(\n    map(roles, (r, name) => {\n      // console.log(r, name)\n      const result = r !== 'blue' ? name : null\n      return result\n    }),\n  )\n  return fascists\n}\n\nexport const createPolicies = () => {\n  const L = Array(6).fill('BLUE')\n  const F = Array(11).fill('RED')\n  const policies = [...L, ...F]\n  return shuffle(policies)\n}\n\nexport const assignRoles = (game) => {\n  const { players } = game\n  const numLiberals = Math.ceil(0.5 + players.length / 2)\n  let roles = Array(numLiberals).fill('blue')\n  roles.push('redLeader')\n  while (roles.length < players.length) {\n    roles.push('red')\n  }\n  const randomRoles = shuffle(roles)\n  const result = {}\n  players.forEach((p, i) => {\n    result[p] = randomRoles[i]\n  })\n  return result\n}\n\nexport const isGameOver = (game) => {\n  if (game.gameOver) {\n    return true\n  }\n\n  const counts = countPolicies(game)\n\n  if (counts.fascist === 6) {\n    return true\n  }\n\n  if (counts.liberal === 5) {\n    return true\n  }\n\n  if (counts.fascist >= 3 && game.governmentApproved && hitlerIsChancellor(game)) {\n    return true\n  }\n  return false\n}\n\nexport const getThemedPolicyName = (policy, theme = defaultTheme) => {\n  return theme[policy]\n}\n","import React from 'react'\nimport theme from './theme'\nimport { getRoleName } from './utils'\n\nfunction PlayerList({\n  game,\n  playerName,\n  headline = 'Players',\n  onPlayerClick = () => {},\n  showRoles = false,\n}) {\n  if (!game) {\n    return null\n  }\n  let { president, chancellor } = game.government\n\n  return (\n    <div className=\"section\">\n      <h2 className=\"text-center\">{headline}</h2>\n      <div className=\"row\">\n        {game.players.map((name, i) => {\n          const role = getRoleName(game.roles[name])\n\n          return (\n            <div className=\"col-4 col-md-3 my-3 player-card\" key={`player-${i}`}>\n              <div className=\"card h-100\">\n                <div\n                  className={`py-3 text-center ${name === president ? 'president' : ''} ${\n                    name === chancellor ? 'chancellor' : ''\n                  } `}\n                  onClick={() => {\n                    onPlayerClick(name)\n                  }}\n                >\n                  <div>\n                    <i className=\"fas fa-user\"></i>\n                  </div>\n                  <p>\n                    {name} {name === playerName ? '(you)' : ''}\n                  </p>\n                  {name === president && <p>{theme.presidentTitle}</p>}\n                  {name === chancellor && <p>{theme.chancellorTitle}</p>}\n                  {showRoles && (\n                    <p className={`${game.roles[name] === 'blue' ? 'blue' : 'red'}`}>{role}</p>\n                  )}\n                </div>\n              </div>\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport default PlayerList\n","import React from 'react'\nimport theme from './theme'\n\nfunction Government({ game, showPotentialGovernment = false, president = '', chancellor = '' }) {\n  if (!showPotentialGovernment) {\n    return null\n  }\n  return (\n    <div className=\"row mt-3\">\n      <div className=\"col-8\">\n        <div className=\"row\">\n          <div className=\"col-5\">Proposed {theme.presidentTitle}:</div>\n          <div className=\"col-6\">{president}</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-5\">Proposed {theme.chancellorTitle}:</div>\n          <div className=\"col-6\">{chancellor}</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Government\n","import React from 'react'\n\nfunction EventList({ game, show = 0 }) {\n  const { events } = game\n  if (events.length === 0) {\n    return null\n  }\n\n  const shownEvents = show > 0 ? events.slice(-1 * show) : [...events]\n\n  return (\n    <>\n      <h3 className=\"headline text-center\">Events</h3>\n      <ul className=\"list-group event-list\">\n        {shownEvents.map((e, i) => {\n          return (\n            <li className=\"list-group-item\" key={`event-${i}`}>\n              {e}\n            </li>\n          )\n        })}\n      </ul>\n    </>\n  )\n}\n\nexport default EventList\n","import React, { useState } from 'react'\nimport { capitalize } from 'lodash'\nimport { identifyHitler, getFascists, getRoleName } from './utils'\nimport LiberalCardImg from './assets/Liberal.JPG'\nimport FascistCardImg from './assets/Fascist.JPG'\nimport Modal from 'react-bootstrap/Modal'\nimport Button from 'react-bootstrap/Button'\nimport theme from './theme'\n\nfunction RoleModal({ game, playerName, autoReveal = false, onHide = () => {} }) {\n  const [show, setShow] = useState(autoReveal === true)\n\n  const handleClose = () => {\n    onHide()\n    setShow(false)\n  }\n  const handleShow = () => setShow(true)\n  const { roles } = game\n  const hitlerPlayer = identifyHitler(game)\n  const role = roles[playerName]\n  const { redTeam, redTeamLeader } = theme\n  const roleName = getRoleName(role, theme)\n\n  return (\n    <>\n      <button className=\"btn btn-primary ml-3\" onClick={handleShow}>\n        Reveal Secret Role\n      </button>\n\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Your Secret Role: {capitalize(roleName)} </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"row justify-content-center role-reveal\">\n            <div className=\"col-3\">\n              {role === 'blue' ? (\n                <img alt=\"blue card\" src={LiberalCardImg} />\n              ) : (\n                <img alt=\"red card\" src={FascistCardImg} />\n              )}\n            </div>\n          </div>\n          {(role === 'red' || (role === redTeamLeader && game.players.length < 7)) && (\n            <>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <p>\n                    {capitalize(redTeamLeader)} is: {hitlerPlayer}\n                  </p>\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <p>\n                    All {redTeam}s: {getFascists(game).join(', ')}\n                  </p>\n                </div>\n              </div>\n            </>\n          )}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  )\n}\n\nexport default RoleModal\n","import React from 'react'\nimport { getRoleTeam } from './utils'\n\nfunction RoleReveal({ game, playerName, handleOkay }) {\n  const { roles } = game\n  const role = roles[playerName]\n  const team = getRoleTeam(role)\n\n  return (\n    <div className=\"container mt-5\">\n      <div className=\"row\">\n        <div className=\"col-4 col-md-3\">\n          <div className=\"card shadow p-3 text-center\">\n            <div className=\"row\">\n              <div className=\"col\">Player: {playerName}</div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col\">Role: {team}</div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col\">\n                <button className=\"btn btn-primary mt-4\" onClick={handleOkay}>\n                  OK\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default RoleReveal\n","import React from 'react'\nimport LiberalCardImg from './assets/Liberal.JPG'\nimport FascistCardImg from './assets/Fascist.JPG'\n\nfunction DisplayPolicies({ policies, onPolicyClick = () => {}, chosen = [] }) {\n  return (\n    <div className=\"row\">\n      {policies.map((policy, i) => {\n        const cardImg = policy === 'BLUE' ? LiberalCardImg : FascistCardImg\n\n        return (\n          <div key={`policy-${i}`} className=\"col-2 text-center\">\n            <div className=\"card py-3 policy-space\" onClick={() => onPolicyClick(i)}>\n              <img className=\"card-img-top\" src={cardImg} alt=\"policy choice\" />\n              <div className=\"mt-2\">\n                {chosen[i] ? (\n                  <i className=\"fas fa-check green\"></i>\n                ) : (\n                  <i className=\"fas fa-times red\"></i>\n                )}\n              </div>\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default DisplayPolicies\n","import React, { useState } from 'react'\nimport Modal from 'react-bootstrap/Modal'\n\nfunction SimpleOverlay({ children, title = 'Info', autoReveal = true, onHide = () => {} }) {\n  const [show, setShow] = useState(autoReveal === true)\n\n  const handleClose = () => {\n    onHide()\n    if (process.env.NODE_ENV !== 'production') {\n      setShow(false)\n    }\n  }\n\n  return (\n    <>\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header>\n          <Modal.Title>{title}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>{children}</Modal.Body>\n      </Modal>\n    </>\n  )\n}\n\nexport default SimpleOverlay\n","import React, { useState } from 'react'\nimport produce from 'immer'\nimport { capitalize, get } from 'lodash'\nimport { updateGame, countPolicies, getThemedPolicyName } from './utils'\nimport theme from './theme'\nimport DisplayPolicies from './DisplayPolicies'\nimport SimpleOverlay from './SimpleOverlay'\n\nfunction ChoosePolicies({ game, playerName, gameRef }) {\n  const resetChosen = () => {\n    return Array(3).fill(false)\n  }\n\n  const policies = game.policyChoices\n  const [chosen, setChosen] = useState(resetChosen())\n  const getJob = () => {\n    const pres = get(game, 'government.president')\n    if (pres === playerName) {\n      return theme.presidentTitle\n    }\n    const chan = get(game, 'government.chancellor')\n    if (chan === playerName) {\n      return theme.chancellorTitle\n    }\n    return null\n  }\n\n  const gameReducer = (action) =>\n    produce(game, (draft) => {\n      let event\n      switch (action.type) {\n        case 'veto':\n          draft.presidentHasChosen = false\n          if (game.chancellorHasVetoed) {\n            draft.discards.push(...game.policyChoices)\n            draft.policyChoices = []\n            event = `${capitalize(theme.presidentTitle)} has agreed to veto. Government fails!`\n            draft.governmentApproved = false\n            draft.government = {\n              president: '',\n              chancellor: '',\n            }\n          } else {\n            event = `${theme.chancellorTitle} has proposed a veto`\n            draft.chancellorHasVetoed = true\n          }\n          draft.events.push(event)\n          return\n        case 'confirm':\n          const newPolicyChoices = getPolicies()\n          const unchosen = policies.filter((p, i) => {\n            return !chosen[i]\n          })[0]\n          draft.discards.push(unchosen)\n          if (newPolicyChoices.length === 1) {\n            const newPolicy = newPolicyChoices[0]\n            event = `A new policy has been chosen: ${newPolicy}`\n            draft.enactedPolicies.push(newPolicy)\n            draft.policyChoices = []\n            draft.presidentHasChosen = false\n            draft.governmentApproved = false\n            draft.government = {\n              president: '',\n              chancellor: '',\n            }\n          } else {\n            draft.presidentHasChosen = true\n            draft.policyChoices = newPolicyChoices\n          }\n          draft.events.push(event)\n          return\n      }\n    })\n\n  const vetoChoice = (accept = true) => {\n    const newGame = produce(game, (draft) => {\n      let event\n      draft.presidentHasChosen = false\n      if (!accept) {\n        draft.presidentRejectedVeto = true\n        event = `${theme.presidentTitle} has rejected the veto`\n      } else {\n        if (game.chancellorHasVetoed) {\n          draft.discards.push(...game.policyChoices)\n          draft.policyChoices = []\n          event = `${theme.presidentTitle} has agreed to veto`\n          draft.governmentApproved = false\n          draft.chancellorHasVetoed = false\n          draft.presidentHasChosen = false\n          draft.government = {\n            president: '',\n            chancellor: '',\n          }\n        } else {\n          event = `${theme.chancellorTitle} has proposed a veto`\n          draft.chancellorHasVetoed = true\n        }\n      }\n      draft.events.push(event)\n    })\n    console.log(newGame)\n\n    updateGame(gameRef, newGame)\n  }\n\n  const confirmChoice = () => {\n    const newPolicyChoices = getPolicies()\n    const unchosen = policies.filter((p, i) => {\n      return !chosen[i]\n    })[0]\n    const newGame = produce(game, (draft) => {\n      draft.discards.push(unchosen)\n      if (newPolicyChoices.length === 1) {\n        const newPolicy = newPolicyChoices[0]\n        const themedPolicyName = getThemedPolicyName(newPolicy)\n        const event = `A new policy has been chosen: ${themedPolicyName}`\n        draft.enactedPolicies.push(newPolicy)\n        draft.policyChoices = []\n        draft.events.push(event)\n        draft.presidentHasChosen = false\n        draft.governmentApproved = false\n        draft.chancellorHasVetoed = false\n        draft.presidentRejectedVeto = false\n        draft.government = {\n          president: '',\n          chancellor: '',\n        }\n        draft.lastPresident = game.government.president\n        draft.lastChancellor = game.government.chancellor\n      } else {\n        draft.presidentHasChosen = true\n        draft.policyChoices = newPolicyChoices\n      }\n    })\n\n    updateGame(gameRef, newGame)\n    setChosen(resetChosen())\n  }\n\n  const togglePolicy = (idx) => {\n    const newChosen = produce(chosen, (draft) => {\n      draft[idx] = !draft[idx]\n    })\n    setChosen(newChosen)\n  }\n\n  const getPolicies = () => {\n    return policies.filter((p, i) => {\n      return chosen[i]\n    })\n  }\n\n  if (!game.governmentApproved) {\n    return null\n  }\n\n  const job = getJob()\n\n  if (!job) {\n    if (process.env.NODE_ENV !== 'production') {\n      return 'Waiting for government to choose a new policy...'\n    }\n    return (\n      <SimpleOverlay title=\"Government in Session\">\n        <p>Waiting for government to choose a new policy...</p>\n      </SimpleOverlay>\n    )\n  }\n\n  if (\n    job === theme.presidentTitle &&\n    !game.chancellorHasVetoed &&\n    game.policyChoices.length === 2\n  ) {\n    return (\n      <SimpleOverlay title=\"Government in Session\">\n        <p>Waiting for {theme.chancellorTitle}</p>\n      </SimpleOverlay>\n    )\n  }\n\n  if (job === theme.presidentTitle && game.presidentRejectedVeto) {\n    return (\n      <SimpleOverlay title=\"Government in Session\">\n        <p>Rejected veto. Waiting for {theme.chancellorTitle}</p>\n      </SimpleOverlay>\n    )\n  }\n\n  if (job === theme.chancellorTitle && game.chancellorHasVetoed && !game.presidentRejectedVeto) {\n    return `Veto proposed. Waiting for ${theme.presidentTitle} to decide.`\n  }\n\n  if (\n    job === theme.chancellorTitle &&\n    !game.chancellorHasVetoed &&\n    game.policyChoices.length === 3\n  ) {\n    return (\n      <SimpleOverlay title=\"Government in Session\">\n        <div className=\"row\">\n          <div className=\"col\">\n            <p>You are the {job}</p>\n            <p>Waiting for {theme.presidentTitle} to choose</p>\n          </div>\n        </div>\n      </SimpleOverlay>\n    )\n  }\n\n  const counts = countPolicies(game)\n\n  if (job === theme.presidentTitle && game.chancellorHasVetoed) {\n    return (\n      <>\n        <SimpleOverlay title=\"Veto Proposed\">\n          <div className=\"row\">\n            <div className=\"col\">\n              <p>{capitalize(theme.chancellorTitle)} wants to veto these policies. Agree?</p>\n            </div>\n          </div>\n          <DisplayPolicies\n            policies={game.policyChoices}\n            onPolicyClick={() => {}}\n            chosen={chosen}\n          />\n          <div className=\"row mt-3\">\n            <div className=\"col-4\">\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={() => {\n                  vetoChoice()\n                }}\n              >\n                Agree to Veto\n              </button>\n            </div>\n            <div className=\"col-4\">\n              <button\n                type=\"button\"\n                className=\"btn btn-warning\"\n                onClick={() => {\n                  vetoChoice(false)\n                }}\n              >\n                Reject Veto\n              </button>\n            </div>\n          </div>\n        </SimpleOverlay>\n      </>\n    )\n  }\n\n  return (\n    <>\n      <SimpleOverlay title=\"Government in Session\">\n        <div className=\"row\">\n          <div className=\"col\">\n            <p>\n              You are the {job}.{' '}\n              {job === theme.presidentTitle\n                ? 'Choose 2 policies to keep'\n                : 'Choose a policy to adopt'}\n            </p>\n            {game.presidentRejectedVeto && (\n              <p>The {theme.presidentTitle} rejected your veto. Choose a policy to enact</p>\n            )}\n          </div>\n        </div>\n        <DisplayPolicies\n          policies={game.policyChoices}\n          onPolicyClick={(i) => togglePolicy(i)}\n          chosen={chosen}\n        />\n        <div className=\"row\">\n          <div className=\"col\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary mt-3\"\n              onClick={() => {\n                const confirmed = getPolicies()\n                if (confirmed.length === policies.length - 1) {\n                  confirmChoice(chosen)\n                }\n              }}\n            >\n              Confirm\n            </button>\n          </div>\n          {counts.fascist === 5 && job === theme.chancellorTitle && !game.presidentRejectedVeto && (\n            <div className=\"col\">\n              <button\n                type=\"button\"\n                className=\"btn btn-danger\"\n                onClick={() => {\n                  vetoChoice()\n                }}\n              >\n                Veto\n              </button>\n            </div>\n          )}\n        </div>\n      </SimpleOverlay>\n    </>\n  )\n}\n\nexport default ChoosePolicies\n","import React from 'react'\nimport { countPolicies, hitlerIsChancellor, isGameOver } from './utils'\nimport LiberalSpaceImage from './assets/liberal-card-space.JPG'\nimport LiberalEnactedImage from './assets/liberal-card-enact.JPG'\nimport LiberalCardWin from './assets/liberal-card-win.JPG'\nimport FascistSpaceImage from './assets/fascist-card-space.JPG'\nimport FascistEnactedImage from './assets/fascist-card-enact.JPG'\nimport FascistCardWin from './assets/fascist-card-win.JPG'\nimport { capitalize } from 'lodash'\nimport theme from './theme'\n\nfunction PolicySpace({ img }) {\n  return (\n    <div className=\"col-2 col-md-1\">\n      <div className=\"card py-2 policy-space\">\n        <img alt=\"policy card\" src={img} />\n      </div>\n    </div>\n  )\n}\n\nfunction GameStatus({ game }) {\n  const counts = countPolicies(game)\n  const { blueTeam, redTeam, redTeamLeader } = theme\n  const gameOver = isGameOver(game)\n\n  let endDeclaration\n  if (counts.fascist === 6) {\n    endDeclaration = <h1>{capitalize(redTeam)}s Win with 6 Policies!</h1>\n  }\n\n  if (counts.liberal === 5) {\n    endDeclaration = <h1>{capitalize(blueTeam)}s Win with 5 Policies!</h1>\n  }\n\n  if (counts.fascist >= 3 && game.governmentApproved && hitlerIsChancellor(game)) {\n    endDeclaration = (\n      <h1>\n        {capitalize(redTeam)}s win Because {capitalize(redTeamLeader)} is Chancellor!\n      </h1>\n    )\n  }\n\n  if (gameOver) {\n    return (\n      <div className=\"mt-3\">\n        {endDeclaration}\n        {/* <ul>\n          <li>{theme.blueTeam} Policies: {counts.liberal} </li>\n          <li>{theme.redTeam} Policies: {counts.fascist} </li>\n        </ul> */}\n      </div>\n    )\n  }\n\n  return (\n    <>\n      <div className=\"row mt-3\">\n        <div className=\"col\">Policies Left in Deck: {game.policies.length}</div>\n        <div className=\"col\">Discarded: {game.discards.length} </div>\n      </div>\n      {gameOver && endDeclaration}\n      <div className=\"row mt-3\">\n        {Array(counts.liberal)\n          .fill(true)\n          .map((_, i) => {\n            return <PolicySpace key={`libs-en-${i}`} img={LiberalEnactedImage} />\n          })}\n        {Array(4 - counts.liberal)\n          .fill(true)\n          .map((_, i) => {\n            return <PolicySpace key={`libs-en-${i}`} img={LiberalSpaceImage} />\n          })}\n        <PolicySpace img={LiberalCardWin} />\n      </div>\n      <div className=\"row mt-4\">\n        {Array(counts.fascist)\n          .fill(true)\n          .map((_, i) => {\n            return <PolicySpace key={`fasc-en-${i}`} img={FascistEnactedImage} />\n          })}\n        {Array(5 - counts.fascist)\n          .fill(true)\n          .map((_, i) => {\n            return <PolicySpace key={`fasc-${i}`} img={FascistSpaceImage} />\n          })}\n\n        <PolicySpace img={FascistCardWin} />\n      </div>\n    </>\n  )\n}\n\nexport default GameStatus\n","import React, { useState } from 'react'\nimport produce from 'immer'\nimport { updateGame, refreshPolicies, getThemedPolicyName } from './utils'\nimport DisplayPolicies from './DisplayPolicies'\n\nfunction ActionBar({ game, gameRef, playerName = '' }) {\n  const [confirmationNeeded, setConfirmationNeeded] = useState(false)\n  const [viewing, setViewing] = useState(false)\n  const [doneViewing, setDoneViewing] = useState(true)\n  const [preparedState, setPreparedState] = useState(null)\n\n  if (!game.started) {\n    return null\n  }\n\n  const confirmAction = (bool) => {\n    if (bool) {\n      updateGame(gameRef, preparedState)\n      if (viewing) {\n        setDoneViewing(false)\n      }\n    }\n    setPreparedState(null)\n    setViewing(false)\n    setConfirmationNeeded(false)\n  }\n\n  const enactTopPolicy = () => {\n    const newGame = produce(game, (draft) => {\n      let tempPolicies = game.policies\n      if (game.policies.length === 0) {\n        tempPolicies = refreshPolicies(game)\n        draft.discards = []\n      }\n      const newPolicy = tempPolicies[0]\n      const themedPolicyName = getThemedPolicyName(newPolicy)\n      const event = `Government in chaos! New policy enacted: ${themedPolicyName}`\n      draft.policies = tempPolicies.slice(1)\n      draft.enactedPolicies.push(newPolicy)\n      draft.events.push(event)\n    })\n    setConfirmationNeeded(true)\n    setPreparedState(newGame)\n  }\n\n  const viewTopPolicies = () => {\n    const newGame = produce(game, (draft) => {\n      let tempPolicies = game.policies\n      if (game.policies.length < 3) {\n        tempPolicies = refreshPolicies(game)\n        draft.discards = []\n      }\n      const event = `${playerName} viewed the top policies`\n      draft.policies = tempPolicies\n      draft.events.push(event)\n    })\n    setConfirmationNeeded(true)\n    setViewing(true)\n    setPreparedState(newGame)\n  }\n\n  const allowInvestigation = () => {\n    const newGame = produce(game, (draft) => {\n      draft.presidentShouldInvestigate = true\n    })\n    setConfirmationNeeded(true)\n    setPreparedState(newGame)\n  }\n\n  const endGame = () => {\n    const newGame = produce(game, (draft) => {\n      draft.gameOver = true\n    })\n    setConfirmationNeeded(true)\n    setPreparedState(newGame)\n  }\n\n  if (!doneViewing) {\n    return (\n      <DisplayPolicies\n        onPolicyClick={() => {\n          setDoneViewing(true)\n        }}\n        policies={game.policies.slice(0, 3)}\n      />\n    )\n  }\n\n  return (\n    <>\n      {!confirmationNeeded ? (\n        <div className=\"row mt-3\">\n          <div className=\"col-6 col-md-3\">\n            <button\n              className=\"btn btn-warning\"\n              onClick={() => {\n                enactTopPolicy()\n              }}\n            >\n              Enact Top Policy\n            </button>\n          </div>\n          <div className=\"col-6 col-md-3\">\n            <button className=\"btn btn-warning\" onClick={viewTopPolicies}>\n              View Top Policies\n            </button>\n          </div>\n          <div className=\"col-6 col-md-3\">\n            <button className=\"btn btn-warning\" onClick={allowInvestigation}>\n              Allow Investigation\n            </button>\n          </div>\n          <div className=\"col-6 col-md-3\">\n            <button className=\"btn btn-warning\" onClick={endGame}>\n              End Game\n            </button>\n          </div>\n        </div>\n      ) : (\n        <div className=\"row mt-3\">\n          <div className=\"col-4 col-md-3\">\n            <button\n              className=\"btn btn-danger mr-3\"\n              onClick={() => {\n                confirmAction(true)\n              }}\n            >\n              Confirm\n            </button>\n            <button\n              className=\"btn btn-info\"\n              onClick={() => {\n                confirmAction(false)\n              }}\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default ActionBar\n","import React, { useState } from 'react'\nimport { capitalize } from 'lodash'\nimport Modal from 'react-bootstrap/Modal'\nimport Button from 'react-bootstrap/Button'\nimport theme from './theme'\n\nfunction SpecialRulesModal({ game }) {\n  const [show, setShow] = useState(false)\n\n  const handleClose = () => {\n    setShow(false)\n  }\n  const handleShow = () => setShow(true)\n\n  const numPlayers = game.players.length\n\n  const { blueTeam, redTeam, redTeamLeader } = theme\n\n  return (\n    <>\n      <button className=\"btn btn-primary ml-3\" onClick={handleShow}>\n        Show Rules\n      </button>\n\n      <Modal size=\"lg\" show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Rules for {numPlayers} players </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <ul>\n            {numPlayers <= 6 && (\n              <>\n                <li>\n                  Two players (including {redTeamLeader}) are {redTeam}s\n                </li>\n                <li>\n                  {capitalize(redTeamLeader)} knows who the other {redTeam} is\n                </li>\n                <li>\n                  After the 3rd {redTeam} policy is enacted, the {theme.presidentTitle} will view\n                  the top three policy cards, then put them back without changing the order\n                </li>\n              </>\n            )}\n            {numPlayers >= 7 && (\n              <>\n                {numPlayers < 9 ? (\n                  <li>\n                    Three players (including {redTeamLeader}) are {redTeam}s\n                  </li>\n                ) : (\n                  <li>\n                    Four players (including {redTeamLeader}) are {redTeam}s\n                  </li>\n                )}\n                <li>\n                  {capitalize(redTeamLeader)} doesn't know who the other {redTeam}s are\n                </li>\n                {numPlayers >= 9 && (\n                  <li>\n                    After the 1st {redTeam} policy is enacted, the {theme.presidentTitle}{' '}\n                    investigates a player's team membership\n                  </li>\n                )}\n                <li>\n                  After the 2nd {redTeam} policy is enacted, the {theme.presidentTitle}{' '}\n                  investigates a player's team membership\n                </li>\n                <li>\n                  After the 3nd {redTeam} policy is enacted, the {theme.presidentTitle} chooses the\n                  next {theme.presidentTitle} (this is a special session, the order of succession\n                  reverts back to normal afterwards)\n                </li>\n              </>\n            )}\n            <li>\n              After the 4th {redTeam} policy is enacted, the {theme.presidentTitle} must eliminate\n              a player\n            </li>\n            <li>\n              After the 5th {redTeam} policy is enacted, the {theme.presidentTitle} must eliminate\n              a player, and the veto power is unlocked\n            </li>\n            <li>\n              The policy deck contains 11 {redTeam} and 6 {blueTeam} policies\n            </li>\n            <li>\n              After three failed attempts to form a government, the top policy card from the deck\n              is automatically enacted. No special events are triggered by this policy.\n            </li>\n          </ul>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  )\n}\n\nexport default SpecialRulesModal\n","import React, { useState } from 'react'\nimport produce from 'immer'\nimport { get, capitalize } from 'lodash'\nimport PlayerList from './PlayerList'\nimport Government from './Government'\nimport EventList from './EventList'\nimport RoleModal from './RoleModal'\nimport RoleReveal from './RoleReveal'\nimport ChoosePolicies from './ChoosePolicies'\nimport GameStatus from './GameStatus'\nimport ActionBar from './ActionBar'\nimport { updateGame, refreshPolicies, assignRoles, createPolicies, isGameOver } from './utils'\nimport SpecialRulesModal from './SpecialRulesModal'\nimport theme from './theme'\n\nconst { redTeamLeader } = theme\n\nfunction App(props) {\n  const { game, gameRef, hosting = false } = props\n  const [name, setName] = useState(props.name || '')\n  const [president, setPresident] = useState(null)\n  const [chancellor, setChancellor] = useState(null)\n  const [viewingIdentity, setViewingIdentity] = useState(false)\n  const [chosenPlayer, setChosenPlayer] = useState(null)\n\n  const handleChoosePlayer = (p) => {\n    setChosenPlayer(p)\n    setViewingIdentity(true)\n    const newGame = produce(game, (draft) => {\n      draft.events.push(`${name} investigated ${p}'s membership`)\n      draft.presidentShouldInvestigate = false\n    })\n    updateGame(gameRef, newGame)\n  }\n\n  const handleStart = () => {\n    if (game.players.length < 5) {\n      console.log('Need more players')\n      return\n    }\n    const roles = assignRoles(game)\n    const event = `Game has started`\n\n    const newGame = produce(game, (draft) => {\n      draft.roles = roles\n      draft.policies = createPolicies()\n      draft.started = true\n      draft.events.push(event)\n    })\n    updateGame(gameRef, newGame)\n  }\n\n  const dismissReveal = () => {\n    console.log('reveal dismissed!')\n    setViewingIdentity(false)\n    setChosenPlayer(false)\n  }\n\n  const setGovernment = (approved = true) => {\n    if (!president || !chancellor) {\n      console.log('set pres & chan')\n      return\n    }\n    let event\n    let newGame\n    if (approved) {\n      event = `New government approved. ${theme.presidentTitle}: ${president}, ${theme.chancellorTitle}: ${chancellor}`\n      newGame = produce(game, (draft) => {\n        let tempPolicies = game.policies\n        if (game.policies < 3) {\n          tempPolicies = refreshPolicies(game)\n          draft.discards = []\n        }\n        draft.government = {\n          president: president,\n          chancellor: chancellor,\n        }\n        draft.policyChoices = tempPolicies.slice(0, 3)\n        draft.policies = tempPolicies.slice(3)\n        draft.events.push(event)\n        draft.presidentHasChosen = false\n        draft.presidentRejectedVeto = false\n        draft.chancellorHasVetoed = false\n        draft.governmentApproved = true\n      })\n    } else {\n      event = `Government rejected. ${theme.presidentTitle}: ${president}, ${theme.chancellorTitle}: ${chancellor}`\n      setPresident(null)\n      setChancellor(null)\n      newGame = produce(game, (draft) => {\n        draft.events.push(event)\n      })\n    }\n    updateGame(gameRef, newGame)\n  }\n\n  const handlePlayerClick = (playerName) => {\n    if (president !== playerName && chancellor !== playerName) {\n      setPresident(playerName)\n      return\n    }\n    if (president === playerName) {\n      setPresident(null)\n      setChancellor(playerName)\n      return\n    }\n    if (chancellor === playerName) {\n      setChancellor(null)\n      return\n    }\n  }\n\n  if (!game.started) {\n    return (\n      <div className=\"container\">\n        <PlayerList game={game} playerName={name} onPlayerClick={handlePlayerClick} />\n        {hosting && (\n          <div className=\"row mt-3\">\n            <div className=\"col\">\n              <button className=\"btn btn-primary\" onClick={handleStart}>\n                Start Game\n              </button>\n            </div>\n          </div>\n        )}\n        <hr />\n        <EventList game={game} />\n      </div>\n    )\n  }\n\n  const wasLastPresident = get(game, 'lastPresident') === name\n  const gameOver = isGameOver(game)\n\n  if (viewingIdentity) {\n    return <RoleReveal game={game} playerName={chosenPlayer} handleOkay={dismissReveal} />\n  }\n\n  if (game.presidentShouldInvestigate && wasLastPresident) {\n    return (\n      <>\n        <PlayerList\n          headline={'Choose a player to investigate'}\n          game={game}\n          playerName={name}\n          onPlayerClick={handleChoosePlayer}\n        />\n      </>\n    )\n  }\n\n  return (\n    <div className=\"container\">\n      <h1 className=\"headline text-center mb-3\">Secret {capitalize(redTeamLeader)}</h1>\n      <RoleModal game={game} playerName={name} />\n      <SpecialRulesModal game={game} />\n      <GameStatus game={game} />\n\n      <div className=\"row mt-3\">\n        <div className=\"col\">\n          <p>\n            Your name:{' '}\n            {process.env.NODE_ENV === 'production' ? (\n              name\n            ) : (\n              <input\n                value={name}\n                onChange={(e) => {\n                  setName(e.target.value)\n                }}\n              />\n            )}\n          </p>\n        </div>\n      </div>\n      <ChoosePolicies game={game} playerName={name} gameRef={gameRef} />\n\n      <PlayerList\n        game={game}\n        playerName={name}\n        onPlayerClick={handlePlayerClick}\n        showRoles={gameOver}\n      />\n      <Government\n        game={game}\n        president={president}\n        chancellor={chancellor}\n        showPotentialGovernment={hosting}\n      />\n      <div className=\"row mt-3\">\n        {!game.governmentApproved && hosting && (\n          <>\n            <div className=\"col-4 col-md-3\">\n              <button className=\"btn btn-secondary\" onClick={setGovernment}>\n                Approve Government\n              </button>\n            </div>\n            <div className=\"col-4 col-md-3\">\n              <button\n                className=\"btn btn-secondary\"\n                onClick={() => {\n                  setGovernment(false)\n                }}\n              >\n                Reject Government\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n      {hosting && <ActionBar game={game} gameRef={gameRef} />}\n      <hr />\n      <EventList game={game} show={6} />\n    </div>\n  )\n}\n\nexport default App\n","import React, { useState } from 'react'\nimport produce from 'immer'\nimport words from './data/short-got.json'\nimport { random, capitalize } from 'lodash'\nimport { useHistory } from 'react-router-dom'\nimport * as firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport firestore from './firestore'\nimport { updateGame } from './utils'\nimport theme from './theme'\nimport App from './App'\n\nconst { redTeamLeader } = theme\n\nlet testPlayers\nif (process.env.NODE_ENV === 'production') {\n  testPlayers = []\n} else {\n  testPlayers = [\n    'adam',\n    'cindy',\n    'david',\n    'edgar',\n    'fred',\n    // 'gary', 'helen', 'igor'\n  ]\n}\n\nconst defaultGame = {\n  players: testPlayers,\n  roles: {},\n  started: false,\n  host: null,\n  policies: [],\n  discards: [],\n  government: {\n    president: null,\n    chancellor: null,\n  },\n  governmentApproved: false,\n  events: [],\n  presidentHasChosen: false,\n  policyChoices: [],\n  enactedPolicies: [],\n  gameOver: false,\n  presidentShouldInvestigate: false,\n  presidentShouldKill: false,\n  vetoAvailable: false,\n  chancellorHasVetoed: false,\n  presidentRejectedVeto: false,\n  lastPresident: null,\n  lastChancellor: null,\n}\n\nconst randomChoice = (arr) => {\n  return arr[random(0, arr.length - 1)]\n}\n\nfunction Main(props) {\n  const prod = process.env.NODE_ENV === 'production'\n  const savedName = prod ? localStorage.getItem('playerName') || '' : 'testhost'\n\n  const [game, setGame] = useState(props.game || defaultGame)\n  const [nameConfirmed, setNameConfirmed] = useState(false)\n  const [gameCode, setGameCode] = useState(localStorage.getItem('gameCode') || '')\n  const [gameRef, setGameRef] = useState(props.gameRef || null)\n  const [name, setName] = useState(savedName)\n  const [hosting, setHosting] = useState(false)\n  const [submitted, setSubmitted] = useState(false)\n\n  const history = useHistory()\n\n  const handleNameConfirm = () => {\n    setNameConfirmed(true)\n  }\n\n  const handleHosting = async (e) => {\n    e.preventDefault()\n    localStorage.setItem('gameCode', gameCode)\n    console.log('hosting!', gameCode)\n    setHosting(true)\n    let gRef = await firestore.collection('hgames').doc(gameCode)\n    setGameRef(gRef)\n    gRef.onSnapshot((doc) => {\n      const gameData = doc.data()\n      console.log(gameData)\n      setGame(gameData)\n    })\n    gRef.update({\n      host: name,\n      lastUpdate: firebase.firestore.FieldValue.serverTimestamp(),\n    })\n  }\n\n  const handleCreateGame = async () => {\n    const wordCode = randomChoice(words)\n    setGameCode(wordCode)\n    const event = `Game created. Code: ${wordCode}`\n    localStorage.setItem('gameCode', wordCode)\n    const newGame = produce(game, (draft) => {\n      draft.players.push(name)\n      draft.code = wordCode\n      draft.host = name\n      draft.events.push(event)\n    })\n    let gRef = await firestore.collection('hgames').doc(wordCode)\n\n    setGameRef(gRef)\n    gRef.onSnapshot((doc) => {\n      setGame(doc.data())\n    })\n    updateGame(gRef, newGame)\n    setHosting(true)\n  }\n\n  const handleJoin = (e) => {\n    e.preventDefault()\n    history.push(`/g/${gameCode}?name=${name}`)\n  }\n\n  if (!nameConfirmed) {\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-3\">\n          <div className=\"col-3\">Enter your name:</div>\n          <div className=\"col\">\n            <form onSubmit={handleNameConfirm}>\n              <input\n                autoFocus\n                value={name}\n                onChange={(e) => {\n                  setName(e.target.value)\n                }}\n              />\n              <input className=\"btn btn-primary ml-3\" type=\"submit\" value=\"Next\" />\n            </form>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  if (!game.started && !game.code) {\n    return (\n      <div className=\"container\">\n        <h2 className=\"headline text-center\">Secret {capitalize(redTeamLeader)}</h2>\n        <div className=\"row mt-3\">\n          <>\n            <p>Your name: {name}</p>\n          </>\n        </div>\n        <div className=\"row mt-3\">\n          <input value={gameCode} onChange={(e) => setGameCode(e.target.value)} />\n        </div>\n        <div className=\"row mt-3\">\n          <div className=\"col\">\n            <button className=\"btn btn-primary ml-3\" onClick={handleHosting}>\n              Host Game\n            </button>\n          </div>\n          <div className=\"col\">\n            <button className=\"btn btn-primary ml-3\" onClick={handleJoin}>\n              Join Game\n            </button>\n          </div>\n          <div className=\"col\">\n            <button className=\"btn btn-primary ml-3\" onClick={handleCreateGame}>\n              Create Game\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return <App game={game} gameRef={gameRef} name={name} hosting={hosting} />\n}\n\nexport default Main\n","import React, { useEffect, useState } from 'react'\nimport { get } from 'lodash'\nimport produce from 'immer'\nimport firestore from './firestore'\nimport { updateGame } from './utils'\nimport App from './App'\n\nfunction Game(props) {\n  const prod = process.env.NODE_ENV === 'production'\n  const defaultName = !prod ? localStorage.getItem('playerName') || '' : ''\n\n  const [loaded, setLoaded] = useState(false)\n  const [name, setName] = useState(defaultName)\n  const [game, setGame] = useState(null)\n  const [gameRef, setGameRef] = useState(null)\n  const code = get(props, 'match.params.code', null)\n  const [submitted, setSubmitted] = useState(false)\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    setSubmitted(true)\n    localStorage.setItem('playerName', name)\n\n    const { players } = game\n    if (players.includes(name)) {\n      console.log('Name already registered')\n      return\n    }\n    if (game.started) {\n      console.log('Game already started!')\n      return\n    }\n    const newGame = produce(game, (draft) => {\n      draft.players.push(name)\n    })\n\n    updateGame(gameRef, newGame)\n  }\n\n  useEffect(() => {\n    const register = async () => {\n      const gRef = await firestore.collection('hgames').doc(code)\n      setGameRef(gRef)\n      setLoaded(true)\n      gRef.onSnapshot((doc) => {\n        const gameData = doc.data()\n        setGame(gameData)\n      })\n    }\n    if (code !== null) {\n      register()\n    }\n  }, [code])\n\n  if (game === null) {\n    return null\n  }\n\n  if ((prod && !submitted) || !game.players.includes(name)) {\n    return (\n      <div className=\"container\">\n        <h2>Confirm your name</h2>\n        {!submitted ? (\n          <form onSubmit={handleSubmit}>\n            <input\n              autoFocus\n              value={name}\n              onChange={(e) => {\n                setName(e.target.value)\n              }}\n            />\n            <input type=\"submit\" className=\"btn btn-primary ml-3\" value=\"Next\" />\n          </form>\n        ) : (\n          <div className=\"row mt-3\">\n            <p>You are: {name}</p>\n          </div>\n        )}\n      </div>\n    )\n  }\n\n  return <App game={game} gameRef={gameRef} name={name} />\n}\n\nexport default Game\n","import React from 'react'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport Main from './Main'\nimport Game from './Game'\n\nfunction Routes() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\" component={Main} />\n        <Route path=\"/g/:code\" component={Game} />\n      </Switch>\n    </Router>\n  )\n}\n\nexport default Routes\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport './styles/index.scss'\nimport Routes from './Routes'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Routes />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}