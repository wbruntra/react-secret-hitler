{"version":3,"sources":["assets/Liberal.JPG","assets/Fascist.JPG","assets/liberal-card-space.JPG","assets/liberal-card-enact.JPG","assets/liberal-card-win.JPG","assets/fascist-card-space.JPG","assets/fascist-card-enact.JPG","assets/fascist-card-win.JPG","firebaseConfig.js","firestore.js","theme.js","utils.js","PlayerList.js","Government.js","EventList.js","RoleModal.js","RoleReveal.js","ChoosePolicies.js","GameStatus.js","DisplayPolicies.js","ActionBar.js","SpecialRulesModal.js","App.js","Main.js","Game.js","Routes.js","index.js"],"names":["module","exports","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","firestore","theme","blueTeam","redTeam","redTeamLeader","presidentTitle","chancellorTitle","RED","BLUE","updateGame","gameRef","newGame","set","lastUpdate","FieldValue","serverTimestamp","countPolicies","game","liberalPolicies","enactedPolicies","filter","p","liberal","length","fascist","identifyHitler","roles","players","i","hitlerIsChancellor","hitlerPlayer","get","refreshPolicies","shuffle","discards","policies","getRoleName","role","defaultTheme","isGameOver","gameOver","counts","governmentApproved","getThemedPolicyName","policy","PlayerList","playerName","headline","onPlayerClick","showRoles","government","president","chancellor","className","map","name","key","onClick","Government","showPotentialGovernment","EventList","events","e","RoleModal","autoReveal","onHide","useState","show","setShow","handleClose","roleName","Modal","Header","closeButton","Title","capitalize","Body","alt","src","LiberalCardImg","FascistCardImg","r","getFascists","join","Footer","Button","variant","RoleReveal","handleOkay","team","getRoleTeam","ShowPolicies","onPolicyClick","chosen","cardImg","ChoosePolicies","resetChosen","Array","fill","policyChoices","setChosen","vetoChoice","accept","produce","draft","event","presidentHasChosen","chancellorHasVetoed","push","presidentRejectedVeto","console","log","getPolicies","job","type","idx","newChosen","togglePolicy","newPolicyChoices","unchosen","newPolicy","themedPolicyName","lastPresident","lastChancellor","confirmChoice","PolicySpace","img","GameStatus","endDeclaration","_","LiberalEnactedImage","LiberalSpaceImage","LiberalCardWin","FascistEnactedImage","FascistSpaceImage","FascistCardWin","DisplayPolicies","ActionBar","confirmationNeeded","setConfirmationNeeded","viewing","setViewing","doneViewing","setDoneViewing","preparedState","setPreparedState","started","confirmAction","bool","tempPolicies","slice","enactTopPolicy","presidentShouldInvestigate","SpecialRulesModal","numPlayers","withRouter","props","hosting","setName","setPresident","setChancellor","viewingIdentity","setViewingIdentity","chosenPlayer","setChosenPlayer","setGovernment","approved","handlePlayerClick","numLiberals","Math","ceil","randomRoles","result","forEach","assignRoles","L","F","createPolicies","wasLastPresident","value","onChange","target","defaultGame","host","presidentShouldKill","vetoAvailable","setGame","localStorage","getItem","gameCode","setGameCode","setGameRef","setHosting","submitted","setSubmitted","handleHosting","a","preventDefault","setItem","collection","doc","gRef","onSnapshot","gameData","data","update","handleCreateGame","wordCode","arr","words","random","code","onSubmit","history","location","useEffect","register","includes","Routes","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dadcc440.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Liberal.5179a2ef.JPG\";","module.exports = __webpack_public_path__ + \"static/media/Fascist.ed402502.JPG\";","module.exports = __webpack_public_path__ + \"static/media/liberal-card-space.f5c7314a.JPG\";","module.exports = __webpack_public_path__ + \"static/media/liberal-card-enact.5179a2ef.JPG\";","module.exports = __webpack_public_path__ + \"static/media/liberal-card-win.de286c5f.JPG\";","module.exports = __webpack_public_path__ + \"static/media/fascist-card-space.61fe29af.JPG\";","module.exports = __webpack_public_path__ + \"static/media/fascist-card-enact.ed402502.JPG\";","module.exports = __webpack_public_path__ + \"static/media/fascist-card-win.84f89324.JPG\";","const firebaseConfig = {\n  apiKey: 'AIzaSyAvSp91vcvkgt9RYafRIgY8noH4NSX0P0g',\n  authDomain: 'isthisprime.firebaseapp.com',\n  databaseURL: 'https://isthisprime.firebaseio.com',\n  projectId: 'isthisprime',\n  storageBucket: 'isthisprime.appspot.com',\n  messagingSenderId: '522572340456',\n  appId: '1:522572340456:web:3f0afa40b9cb7d8550bd5d',\n}\n\nexport default firebaseConfig\n","import * as firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport firebaseConfig from './firebaseConfig'\nimport 'firebase/auth'\n\nfirebase.initializeApp(firebaseConfig)\n// firebase.analytics()\n\nconst firestore = firebase.firestore()\n\nexport default firestore\n","const theme = {\n  blueTeam: 'Gryffindor',\n  redTeam: 'Death-Eater',\n  redTeamLeader: 'Voldemort',\n  presidentTitle: 'Minister',\n  chancellorTitle: 'Vice-Minister',\n  RED: 'BAD',\n  BLUE: 'GOOD',\n}\n\nexport default theme\n","import * as firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport { get, shuffle, map, filter } from 'lodash'\nimport defaultTheme from './theme'\n\nexport const updateGame = (gameRef, newGame) => {\n  gameRef.set({\n    ...newGame,\n    lastUpdate: firebase.firestore.FieldValue.serverTimestamp(),\n  })\n}\n\nexport const countPolicies = (game) => {\n  const liberalPolicies = game.enactedPolicies.filter((p) => p === 'BLUE')\n  return {\n    liberal: liberalPolicies.length,\n    fascist: game.enactedPolicies.length - liberalPolicies.length,\n  }\n}\n\nexport const identifyHitler = (game) => {\n  const roles = game.roles\n  const players = game.players\n  let role\n  for (let i = 0; i < players.length; i++) {\n    role = roles[players[i]]\n    if (role === 'redLeader') {\n      return players[i]\n    }\n  }\n}\n\nexport const hitlerIsChancellor = (game) => {\n  const hitlerPlayer = identifyHitler(game)\n  const currentChancellor = get(game, 'government.chancellor')\n  return currentChancellor === hitlerPlayer\n}\n\nexport const hitlerAsChancellorWin = (game) => {\n  const counts = countPolicies(game)\n  const hitlerPlayer = identifyHitler(game)\n  const currentChancellor = get(game, 'government.chancellor')\n  if (counts.fascist < 3 || !game.governmentApproved || currentChancellor !== hitlerPlayer) {\n    return false\n  }\n  return true\n}\n\nexport const refreshPolicies = (game) => {\n  return shuffle([...game.discards, ...game.policies])\n}\n\nexport const getRoleName = (role, theme = defaultTheme) => {\n  const { blueTeam, redTeam, redTeamLeader } = theme\n  if (role === 'blue') {\n    return blueTeam\n  }\n  if (role === 'red') {\n    return redTeam\n  }\n  if (role === 'redLeader') {\n    return redTeamLeader\n  }\n}\n\nexport const getRoleTeam = (role, theme = defaultTheme) => {\n  const { blueTeam, redTeam } = theme\n  if (role === 'blue') {\n    return blueTeam\n  }\n  return redTeam\n}\n\nexport const getFascists = (game) => {\n  const { roles } = game\n  const fascists = filter(\n    map(roles, (r, name) => {\n      // console.log(r, name)\n      const result = r !== 'blue' ? name : null\n      return result\n    }),\n  )\n  return fascists\n}\n\nexport const createPolicies = () => {\n  const L = Array(6).fill('BLUE')\n  const F = Array(11).fill('RED')\n  const policies = [...L, ...F]\n  return shuffle(policies)\n}\n\nexport const assignRoles = (game) => {\n  const { players } = game\n  const numLiberals = Math.ceil(0.5 + players.length / 2)\n  let roles = Array(numLiberals).fill('blue')\n  roles.push('redLeader')\n  while (roles.length < players.length) {\n    roles.push('red')\n  }\n  const randomRoles = shuffle(roles)\n  const result = {}\n  players.forEach((p, i) => {\n    result[p] = randomRoles[i]\n  })\n  return result\n}\n\nexport const isGameOver = (game) => {\n  if (game.gameOver) {\n    return true\n  }\n\n  const counts = countPolicies(game)\n\n  if (counts.fascist === 6) {\n    return true\n  }\n\n  if (counts.liberal === 5) {\n    return true\n  }\n\n  if (counts.fascist >= 3 && game.governmentApproved && hitlerIsChancellor(game)) {\n    return true\n  }\n  return false\n}\n\nexport const getThemedPolicyName = (policy, theme = defaultTheme) => {\n  return theme[policy]\n}\n","import React from 'react'\nimport theme from './theme'\nimport { getRoleName } from './utils'\n\nfunction PlayerList({\n  game,\n  playerName,\n  headline = 'Players',\n  onPlayerClick = () => {},\n  showRoles = false,\n}) {\n  if (!game) {\n    return null\n  }\n  let { president, chancellor } = game.government\n\n  return (\n    <div className=\"section\">\n      <h2 className=\"text-center\">{headline}</h2>\n      <div className=\"row\">\n        {game.players.map((name, i) => {\n          const role = getRoleName(game.roles[name])\n\n          return (\n            <div className=\"col-4 col-md-3 my-3 player-card\" key={`player-${i}`}>\n              <div className=\"card h-100\">\n                <div\n                  className={`py-3 text-center ${name === president ? 'president' : ''} ${\n                    name === chancellor ? 'chancellor' : ''\n                  } `}\n                  onClick={() => {\n                    onPlayerClick(name)\n                  }}\n                >\n                  <div>\n                    <i className=\"fas fa-user\"></i>\n                  </div>\n                  <p>\n                    {name} {name === playerName ? '(you)' : ''}\n                  </p>\n                  {name === president && <p>{theme.presidentTitle}</p>}\n                  {name === chancellor && <p>{theme.chancellorTitle}</p>}\n                  {showRoles && (\n                    <p className={`${game.roles[name] === 'blue' ? 'blue' : 'red'}`}>{role}</p>\n                  )}\n                </div>\n              </div>\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport default PlayerList\n","import React from 'react'\n\nfunction Government({ game, showPotentialGovernment = false, president = '', chancellor = '' }) {\n  if (!showPotentialGovernment) {\n    return null\n  }\n  return (\n    <div className=\"row mt-3\">\n      <div className=\"col-8\">\n        <div className=\"row\">\n          <div className=\"col-3\">President:</div>\n          <div className=\"col-3\">{president}</div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-3\">Chancellor:</div>\n          <div className=\"col-3\">{chancellor}</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Government\n","import React from 'react'\n\nfunction EventList({ game }) {\n  const { events } = game\n  if (events.length === 0) {\n    return null\n  }\n\n  return (\n    <>\n      <h3>Events</h3>\n      <ul className=\"list-group event-list\">\n        {events.map((e, i) => {\n          return (\n            <li className=\"list-group-item\" key={`event-${i}`}>\n              {e}\n            </li>\n          )\n        })}\n      </ul>\n    </>\n  )\n}\n\nexport default EventList\n","import React, { useState } from 'react'\nimport { capitalize } from 'lodash'\nimport { identifyHitler, getFascists, getRoleName } from './utils'\nimport LiberalCardImg from './assets/Liberal.JPG'\nimport FascistCardImg from './assets/Fascist.JPG'\nimport Modal from 'react-bootstrap/Modal'\nimport Button from 'react-bootstrap/Button'\nimport theme from './theme'\n\nfunction RoleModal({ game, playerName, autoReveal = false, onHide = () => {} }) {\n  const [show, setShow] = useState(autoReveal === true)\n\n  const handleClose = () => {\n    onHide()\n    setShow(false)\n  }\n  const handleShow = () => setShow(true)\n  const { roles } = game\n  const hitlerPlayer = identifyHitler(game)\n  const role = roles[playerName]\n  const { redTeam, redTeamLeader } = theme\n  const roleName = getRoleName(role, theme)\n\n  return (\n    <>\n      <button className=\"btn btn-primary ml-3\" onClick={handleShow}>\n        Reveal Secret Role\n      </button>\n\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Your Secret Role: {capitalize(roleName)} </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"row justify-content-center role-reveal\">\n            <div className=\"col-3\">\n              {role === 'blue' ? (\n                <img alt=\"blue card\" src={LiberalCardImg} />\n              ) : (\n                <img alt=\"red card\" src={FascistCardImg} />\n              )}\n            </div>\n          </div>\n          {(role === 'red' || (role === redTeamLeader && game.players.length < 7)) && (\n            <>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <p>\n                    {capitalize(redTeamLeader)} is: {hitlerPlayer}\n                  </p>\n                </div>\n              </div>\n              <div className=\"row\">\n                <div className=\"col\">\n                  <p>\n                    All {redTeam}s: {getFascists(game).join(', ')}\n                  </p>\n                </div>\n              </div>\n            </>\n          )}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  )\n}\n\nexport default RoleModal\n","import React from 'react'\nimport { getRoleTeam } from './utils'\n\nfunction RoleReveal({ game, playerName, handleOkay }) {\n  const { roles } = game\n  const role = roles[playerName]\n  const team = getRoleTeam(role)\n\n  return (\n    <div className=\"container mt-5\">\n      <div className=\"row\">\n        <div className=\"col-4 col-md-3\">\n          <div className=\"card shadow p-3 text-center\">\n            <div className=\"row\">\n              <div className=\"col\">Player: {playerName}</div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col\">Role: {team}</div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col\">\n                <button className=\"btn btn-primary mt-4\" onClick={handleOkay}>\n                  OK\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default RoleReveal\n","import React, { useState } from 'react'\nimport produce from 'immer'\nimport { capitalize, get } from 'lodash'\nimport { updateGame, countPolicies, getThemedPolicyName } from './utils'\nimport LiberalCardImg from './assets/Liberal.JPG'\nimport FascistCardImg from './assets/Fascist.JPG'\nimport theme from './theme'\n\nfunction ShowPolicies({ policies, onPolicyClick, chosen }) {\n  return (\n    <div className=\"row\">\n      {policies.map((p, i) => {\n        const cardImg = p === 'LIBERAL' ? LiberalCardImg : FascistCardImg\n\n        return (\n          <div key={`policy-${i}`} className=\"col-2 text-center\">\n            <div\n              className=\"card py-4 policy-space\"\n              onClick={() => {\n                onPolicyClick(i)\n              }}\n            >\n              <img className=\"card-img-top\" src={cardImg} alt=\"policy choice\" />\n              {chosen[i] && 'YES'}\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nfunction ChoosePolicies({ game, playerName, gameRef }) {\n  const resetChosen = () => {\n    return Array(3).fill(false)\n  }\n\n  const policies = game.policyChoices\n  const [chosen, setChosen] = useState(resetChosen())\n  const getJob = () => {\n    const pres = get(game, 'government.president')\n    if (pres === playerName) {\n      return theme.presidentTitle\n    }\n    const chan = get(game, 'government.chancellor')\n    if (chan === playerName) {\n      return theme.chancellorTitle\n    }\n    return null\n  }\n\n  const gameReducer = (action) =>\n    produce(game, (draft) => {\n      let event\n      switch (action.type) {\n        case 'veto':\n          draft.presidentHasChosen = false\n          if (game.chancellorHasVetoed) {\n            draft.discards.push(...game.policyChoices)\n            draft.policyChoices = []\n            event = `${capitalize(theme.presidentTitle)} has agreed to veto`\n            draft.governmentApproved = false\n            draft.government = {\n              president: '',\n              chancellor: '',\n            }\n          } else {\n            event = `${theme.chancellorTitle} has proposed a veto`\n            draft.chancellorHasVetoed = true\n          }\n          draft.events.push(event)\n          return\n        case 'confirm':\n          const newPolicyChoices = getPolicies()\n          const unchosen = policies.filter((p, i) => {\n            return !chosen[i]\n          })[0]\n          draft.discards.push(unchosen)\n          if (newPolicyChoices.length === 1) {\n            const newPolicy = newPolicyChoices[0]\n            event = `A new policy has been chosen: ${newPolicy}`\n            draft.enactedPolicies.push(newPolicy)\n            draft.policyChoices = []\n            draft.presidentHasChosen = false\n            draft.governmentApproved = false\n            draft.government = {\n              president: '',\n              chancellor: '',\n            }\n          } else {\n            draft.presidentHasChosen = true\n            draft.policyChoices = newPolicyChoices\n          }\n          draft.events.push(event)\n          return\n      }\n    })\n\n  const vetoChoice = (accept = true) => {\n    const newGame = produce(game, (draft) => {\n      let event\n      draft.presidentHasChosen = false\n      if (!accept) {\n        draft.presidentRejectedVeto = true\n        event = `${theme.presidentTitle} has rejected the veto`\n      } else {\n        if (game.chancellorHasVetoed) {\n          draft.discards.push(...game.policyChoices)\n          draft.policyChoices = []\n          event = `${theme.presidentTitle} has agreed to veto`\n          draft.governmentApproved = false\n          draft.chancellorHasVetoed = false\n          draft.presidentHasChosen = false\n          draft.government = {\n            president: '',\n            chancellor: '',\n          }\n        } else {\n          event = `${theme.chancellorTitle} has proposed a veto`\n          draft.chancellorHasVetoed = true\n        }\n      }\n      draft.events.push(event)\n    })\n    console.log(newGame)\n\n    updateGame(gameRef, newGame)\n  }\n\n  const confirmChoice = () => {\n    const newPolicyChoices = getPolicies()\n    const unchosen = policies.filter((p, i) => {\n      return !chosen[i]\n    })[0]\n    const newGame = produce(game, (draft) => {\n      draft.discards.push(unchosen)\n      if (newPolicyChoices.length === 1) {\n        const newPolicy = newPolicyChoices[0]\n        const themedPolicyName = getThemedPolicyName(newPolicy)\n        const event = `A new policy has been chosen: ${themedPolicyName}`\n        draft.enactedPolicies.push(newPolicy)\n        draft.policyChoices = []\n        draft.events.push(event)\n        draft.presidentHasChosen = false\n        draft.governmentApproved = false\n        draft.chancellorHasVetoed = false\n        draft.presidentRejectedVeto = false\n        draft.government = {\n          president: '',\n          chancellor: '',\n        }\n        draft.lastPresident = game.government.president\n        draft.lastChancellor = game.government.chancellor\n      } else {\n        draft.presidentHasChosen = true\n        draft.policyChoices = newPolicyChoices\n      }\n    })\n\n    updateGame(gameRef, newGame)\n    setChosen(resetChosen())\n  }\n\n  const togglePolicy = (idx) => {\n    const newChosen = produce(chosen, (draft) => {\n      draft[idx] = !draft[idx]\n    })\n    setChosen(newChosen)\n  }\n\n  const getPolicies = () => {\n    return policies.filter((p, i) => {\n      return chosen[i]\n    })\n  }\n\n  if (!game.governmentApproved) {\n    return null\n  }\n\n  const job = getJob()\n\n  if (!job) {\n    return 'Waiting for government to choose a new policy...'\n  }\n\n  if (\n    job === theme.presidentTitle &&\n    !game.chancellorHasVetoed &&\n    game.policyChoices.length === 2\n  ) {\n    return `Waiting for ${theme.chancellorTitle}...`\n  }\n\n  if (job === theme.presidentTitle && game.presidentRejectedVeto) {\n    return `Rejected veto. Waiting for ${theme.chancellorTitle}...`\n  }\n\n  if (job === theme.chancellorTitle && game.chancellorHasVetoed && !game.presidentRejectedVeto) {\n    return `Veto proposed. Waiting for ${theme.presidentTitle} to decide.`\n  }\n\n  if (\n    job === theme.chancellorTitle &&\n    !game.chancellorHasVetoed &&\n    game.policyChoices.length === 3\n  ) {\n    return (\n      <div className=\"row\">\n        <div className=\"col\">\n          <p>You are the {job}</p>\n          <p>Waiting for {theme.presidentTitle} to choose</p>\n        </div>\n      </div>\n    )\n  }\n\n  const counts = countPolicies(game)\n\n  if (job === theme.presidentTitle && game.chancellorHasVetoed) {\n    return (\n      <>\n        <div className=\"row\">\n          <div className=\"col\">\n            <h2>{capitalize(theme.chancellorTitle)} wants to veto these policies. Agree?</h2>\n          </div>\n        </div>\n        <ShowPolicies policies={game.policyChoices} onPolicyClick={() => {}} chosen={chosen} />\n        <div className=\"row mt-3\">\n          <div className=\"col-3\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={() => {\n                vetoChoice()\n              }}\n            >\n              Agree to Veto\n            </button>\n          </div>\n          <div className=\"col-3\">\n            <button\n              type=\"button\"\n              className=\"btn btn-warning\"\n              onClick={() => {\n                vetoChoice(false)\n              }}\n            >\n              Reject Veto\n            </button>\n          </div>\n        </div>\n      </>\n    )\n  }\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col\">\n          <p>\n            You are the {job}.{' '}\n            {job === theme.presidentTitle\n              ? 'Choose 2 policies to keep'\n              : 'Choose a policy to adopt'}\n          </p>\n          {game.presidentRejectedVeto && (\n            <p>The {theme.presidentTitle} rejected your veto. Choose a policy to enact</p>\n          )}\n        </div>\n      </div>\n      <div className=\"row\">\n        {policies.map((p, i) => {\n          const cardImg = p === 'LIBERAL' ? LiberalCardImg : FascistCardImg\n\n          return (\n            <div key={`policy-${i}`} className=\"col-2 text-center\">\n              <div className=\"card py-4 policy-space\" onClick={() => togglePolicy(i)}>\n                <img className=\"card-img-top\" src={cardImg} alt=\"policy choice\" />\n                <div className=\"mt-2\">\n                  {chosen[i] ? (\n                    <i className=\"fas fa-check green\"></i>\n                  ) : (\n                    <i className=\"fas fa-times red\"></i>\n                  )}\n                </div>\n              </div>\n            </div>\n          )\n        })}\n      </div>\n      <div className=\"row\">\n        <div className=\"col\">\n          <button\n            type=\"button\"\n            className=\"btn btn-primary mt-2\"\n            onClick={() => {\n              const confirmed = getPolicies()\n              if (confirmed.length === policies.length - 1) {\n                confirmChoice(chosen)\n              }\n            }}\n          >\n            Confirm\n          </button>\n        </div>\n        {counts.fascist === 5 && job === theme.chancellorTitle && !game.presidentRejectedVeto && (\n          <div className=\"col\">\n            <button\n              type=\"button\"\n              className=\"btn btn-danger\"\n              onClick={() => {\n                vetoChoice()\n              }}\n            >\n              Veto\n            </button>\n          </div>\n        )}\n      </div>\n    </>\n  )\n}\n\nexport default ChoosePolicies\n","import React from 'react'\nimport { countPolicies, hitlerIsChancellor, isGameOver } from './utils'\nimport LiberalSpaceImage from './assets/liberal-card-space.JPG'\nimport LiberalEnactedImage from './assets/liberal-card-enact.JPG'\nimport LiberalCardWin from './assets/liberal-card-win.JPG'\nimport FascistSpaceImage from './assets/fascist-card-space.JPG'\nimport FascistEnactedImage from './assets/fascist-card-enact.JPG'\nimport FascistCardWin from './assets/fascist-card-win.JPG'\nimport { capitalize } from 'lodash'\nimport theme from './theme'\n\nfunction PolicySpace({ img }) {\n  return (\n    <div className=\"col-2 col-md-1\">\n      <div className=\"card py-2 policy-space\">\n        <img alt=\"policy card\" src={img} />\n      </div>\n    </div>\n  )\n}\n\nfunction GameStatus({ game }) {\n  const counts = countPolicies(game)\n  const { blueTeam, redTeam, redTeamLeader } = theme\n  const gameOver = isGameOver(game)\n\n  let endDeclaration\n  if (counts.fascist === 6) {\n    endDeclaration = <h1>{capitalize(redTeam)}s Win with 6 Policies!</h1>\n  }\n\n  if (counts.liberal === 5) {\n    endDeclaration = <h1>{capitalize(blueTeam)}s Win with 5 Policies!</h1>\n  }\n\n  if (counts.fascist >= 3 && game.governmentApproved && hitlerIsChancellor(game)) {\n    endDeclaration = (\n      <h1>\n        {capitalize(redTeam)}s win Because {capitalize(redTeamLeader)} is Chancellor!\n      </h1>\n    )\n  }\n\n  if (gameOver) {\n    return <>{endDeclaration}</>\n  }\n\n  return (\n    <>\n      <div className=\"row mt-3\">\n        {/* <ul>\n          <li>Liberal Policies: {counts.liberal} </li>\n          <li>Fascist Policies: {counts.fascist} </li>\n        </ul> */}\n        <ul>\n          <li>Policies Left in Deck: {game.policies.length}</li>\n          <li>Discarded: {game.discards.length} </li>\n        </ul>\n      </div>\n      <div className=\"row\">\n        {Array(counts.liberal)\n          .fill(true)\n          .map((_, i) => {\n            return <PolicySpace key={`libs-en-${i}`} img={LiberalEnactedImage} />\n          })}\n        {Array(4 - counts.liberal)\n          .fill(true)\n          .map((_, i) => {\n            return <PolicySpace key={`libs-en-${i}`} img={LiberalSpaceImage} />\n          })}\n        <PolicySpace img={LiberalCardWin} />\n      </div>\n      <div className=\"row mt-4\">\n        {Array(counts.fascist)\n          .fill(true)\n          .map((_, i) => {\n            return <PolicySpace key={`fasc-en-${i}`} img={FascistEnactedImage} />\n          })}\n        {Array(5 - counts.fascist)\n          .fill(true)\n          .map((_, i) => {\n            return <PolicySpace key={`fasc-${i}`} img={FascistSpaceImage} />\n          })}\n\n        <PolicySpace img={FascistCardWin} />\n      </div>\n    </>\n  )\n}\n\nexport default GameStatus\n","import React from 'react'\nimport LiberalCardImg from './assets/Liberal.JPG'\nimport FascistCardImg from './assets/Fascist.JPG'\n\nfunction DisplayPolicies({ policies, onPolicyClick = () => {}, chosen }) {\n  return (\n    <div className=\"row\">\n      {policies.map((p, i) => {\n        const cardImg = p === 'LIBERAL' ? LiberalCardImg : FascistCardImg\n\n        return (\n          <div key={`policy-${i}`} className=\"col-2 text-center\">\n            <div\n              className=\"card py-4 policy-space\"\n              onClick={() => {\n                onPolicyClick(i)\n              }}\n            >\n              <img className=\"card-img-top\" src={cardImg} alt=\"policy choice\" />\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default DisplayPolicies\n","import React, { useState } from 'react'\nimport produce from 'immer'\nimport { updateGame, refreshPolicies, getThemedPolicyName } from './utils'\nimport DisplayPolicies from './DisplayPolicies'\n\nfunction ActionBar({ game, gameRef, playerName = '' }) {\n  const [confirmationNeeded, setConfirmationNeeded] = useState(false)\n  const [viewing, setViewing] = useState(false)\n  const [doneViewing, setDoneViewing] = useState(true)\n  const [preparedState, setPreparedState] = useState(null)\n\n  if (!game.started) {\n    return null\n  }\n\n  const confirmAction = (bool) => {\n    if (bool) {\n      updateGame(gameRef, preparedState)\n      if (viewing) {\n        setDoneViewing(false)\n      }\n    }\n    setPreparedState(null)\n    setViewing(false)\n    setConfirmationNeeded(false)\n  }\n\n  const enactTopPolicy = () => {\n    const newGame = produce(game, (draft) => {\n      let tempPolicies = game.policies\n      if (game.policies.length === 0) {\n        tempPolicies = refreshPolicies(game)\n        draft.discards = []\n      }\n      const newPolicy = tempPolicies[0]\n      const themedPolicyName = getThemedPolicyName(newPolicy)\n      const event = `Government in chaos! New policy enacted: ${themedPolicyName}`\n      draft.policies = tempPolicies.slice(1)\n      draft.enactedPolicies.push(newPolicy)\n      draft.events.push(event)\n    })\n    setConfirmationNeeded(true)\n    setPreparedState(newGame)\n  }\n\n  const viewTopPolicies = () => {\n    const newGame = produce(game, (draft) => {\n      let tempPolicies = game.policies\n      if (game.policies.length < 3) {\n        tempPolicies = refreshPolicies(game)\n        draft.discards = []\n      }\n      const event = `${playerName} viewed the top policies`\n      draft.policies = tempPolicies\n      draft.events.push(event)\n    })\n    setConfirmationNeeded(true)\n    setViewing(true)\n    setPreparedState(newGame)\n  }\n\n  const allowInvestigation = () => {\n    const newGame = produce(game, (draft) => {\n      draft.presidentShouldInvestigate = true\n    })\n    setConfirmationNeeded(true)\n    setPreparedState(newGame)\n  }\n\n  const endGame = () => {\n    const newGame = produce(game, (draft) => {\n      draft.gameOver = true\n    })\n    setConfirmationNeeded(true)\n    setPreparedState(newGame)\n  }\n\n  if (!doneViewing) {\n    return (\n      <DisplayPolicies\n        onPolicyClick={() => {\n          setDoneViewing(true)\n        }}\n        policies={game.policies.slice(0, 3)}\n      />\n    )\n  }\n\n  return (\n    <>\n      {!confirmationNeeded ? (\n        <div className=\"row mt-3\">\n          <div className=\"col-6 col-md-3\">\n            <button\n              className=\"btn btn-warning\"\n              onClick={() => {\n                enactTopPolicy()\n              }}\n            >\n              Enact Top Policy\n            </button>\n          </div>\n          <div className=\"col-6 col-md-3\">\n            <button className=\"btn btn-warning\" onClick={viewTopPolicies}>\n              View Top Policies\n            </button>\n          </div>\n          <div className=\"col-6 col-md-3\">\n            <button className=\"btn btn-warning\" onClick={allowInvestigation}>\n              Allow Investigation\n            </button>\n          </div>\n          <div className=\"col-6 col-md-3\">\n            <button className=\"btn btn-warning\" onClick={endGame}>\n              End Game\n            </button>\n          </div>\n        </div>\n      ) : (\n        <div className=\"row mt-3\">\n          <div className=\"col-4 col-md-3\">\n            <button\n              className=\"btn btn-danger mr-3\"\n              onClick={() => {\n                confirmAction(true)\n              }}\n            >\n              Confirm\n            </button>\n            <button\n              className=\"btn btn-info\"\n              onClick={() => {\n                confirmAction(false)\n              }}\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default ActionBar\n","import React, { useState } from 'react'\nimport { capitalize } from 'lodash'\nimport Modal from 'react-bootstrap/Modal'\nimport Button from 'react-bootstrap/Button'\nimport theme from './theme'\n\nfunction SpecialRulesModal({ game }) {\n  const [show, setShow] = useState(false)\n\n  const handleClose = () => {\n    setShow(false)\n  }\n  const handleShow = () => setShow(true)\n\n  const numPlayers = game.players.length\n\n  const { blueTeam, redTeam, redTeamLeader } = theme\n\n  return (\n    <>\n      <button className=\"btn btn-primary ml-3\" onClick={handleShow}>\n        Show Rules\n      </button>\n\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Rules for {numPlayers} players </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <ul>\n            {numPlayers <= 6 && (\n              <>\n                <li>Two players are {redTeam}s</li>\n                <li>\n                  {capitalize(redTeamLeader)} knows who the {redTeam} is\n                </li>\n                <li>\n                  After the 3rd {redTeam} policy is enacted, the {theme.presidentTitle} will view\n                  the top three policy cards, then put them back without changing the order\n                </li>\n              </>\n            )}\n            {numPlayers >= 7 && (\n              <>\n                {numPlayers < 9 ? (\n                  <li>Three players are {redTeam}s</li>\n                ) : (\n                  <li>Four players are {redTeam}s</li>\n                )}\n                <li>\n                  {capitalize(redTeamLeader)} doesn't know who the {redTeam}s are\n                </li>\n                {numPlayers >= 9 && (\n                  <li>\n                    After the 1st {redTeam} policy is enacted, the {theme.presidentTitle}{' '}\n                    investigates a player's team membership\n                  </li>\n                )}\n                <li>\n                  After the 2nd {redTeam} policy is enacted, the {theme.presidentTitle}{' '}\n                  investigates a player's team membership\n                </li>\n                <li>\n                  After the 3nd {redTeam} policy is enacted, the {theme.presidentTitle} chooses the\n                  next {theme.presidentTitle} (this is a special session, the order of succession\n                  reverts back to normal afterwards)\n                </li>\n              </>\n            )}\n            <li>\n              After the 4th {redTeam} policy is enacted, the {theme.presidentTitle} must eliminate\n              a player\n            </li>\n            <li>\n              After the 5th {redTeam} policy is enacted, the {theme.presidentTitle} must eliminate\n              a player, and the veto power is unlocked\n            </li>\n            <li>\n              The policy deck contains 11 {redTeam} and 6 {blueTeam} policies\n            </li>\n            <li>\n              After three failed attempts to form a government, the top policy card from the deck\n              is automatically enacted. No special events are triggered by this policy.\n            </li>\n          </ul>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  )\n}\n\nexport default SpecialRulesModal\n","import React, { useState } from 'react'\nimport produce from 'immer'\nimport { get, capitalize } from 'lodash'\nimport { withRouter } from 'react-router-dom'\nimport PlayerList from './PlayerList'\nimport Government from './Government'\nimport EventList from './EventList'\nimport RoleModal from './RoleModal'\nimport RoleReveal from './RoleReveal'\nimport ChoosePolicies from './ChoosePolicies'\nimport GameStatus from './GameStatus'\nimport ActionBar from './ActionBar'\nimport { updateGame, refreshPolicies, assignRoles, createPolicies, isGameOver } from './utils'\nimport SpecialRulesModal from './SpecialRulesModal'\nimport theme from './theme'\n\nconst { redTeamLeader } = theme\n\nfunction App(props) {\n  const { game, gameRef, hosting = false } = props\n  const [name, setName] = useState(props.name || '')\n  const [president, setPresident] = useState(null)\n  const [chancellor, setChancellor] = useState(null)\n  const [viewingIdentity, setViewingIdentity] = useState(false)\n  const [chosenPlayer, setChosenPlayer] = useState(null)\n\n  const handleChoosePlayer = (p) => {\n    setChosenPlayer(p)\n    setViewingIdentity(true)\n    const newGame = produce(game, (draft) => {\n      draft.events.push(`${name} investigated ${p}'s membership`)\n      draft.presidentShouldInvestigate = false\n    })\n    updateGame(gameRef, newGame)\n  }\n\n  const handleStart = () => {\n    const roles = assignRoles(game)\n    const event = `Game has started`\n\n    const newGame = produce(game, (draft) => {\n      draft.roles = roles\n      draft.policies = createPolicies()\n      draft.started = true\n      draft.events.push(event)\n    })\n    updateGame(gameRef, newGame)\n  }\n\n  const dismissReveal = () => {\n    console.log('reveal dismissed!')\n    setViewingIdentity(false)\n    setChosenPlayer(false)\n  }\n\n  const setGovernment = (approved = true) => {\n    if (!president || !chancellor) {\n      console.log('set pres & chan')\n      return\n    }\n    let event\n    let newGame\n    if (approved) {\n      event = `New government approved. ${theme.presidentTitle}: ${president}, ${theme.chancellorTitle}: ${chancellor}`\n      newGame = produce(game, (draft) => {\n        let tempPolicies = game.policies\n        if (game.policies < 3) {\n          tempPolicies = refreshPolicies(game)\n          draft.discards = []\n        }\n        draft.government = {\n          president: president,\n          chancellor: chancellor,\n        }\n        draft.policyChoices = tempPolicies.slice(0, 3)\n        draft.policies = tempPolicies.slice(3)\n        draft.events.push(event)\n        draft.presidentHasChosen = false\n        draft.presidentRejectedVeto = false\n        draft.chancellorHasVetoed = false\n        draft.governmentApproved = true\n      })\n    } else {\n      event = `Government rejected. President: ${president}, Chancellor: ${chancellor}`\n      setPresident(null)\n      setChancellor(null)\n      newGame = produce(game, (draft) => {\n        draft.events.push(event)\n      })\n    }\n    console.log(newGame)\n    updateGame(gameRef, newGame)\n  }\n\n  const handlePlayerClick = (playerName) => {\n    if (president !== playerName && chancellor !== playerName) {\n      setPresident(playerName)\n      return\n    }\n    if (president === playerName) {\n      setPresident(null)\n      setChancellor(playerName)\n      return\n    }\n    if (chancellor === playerName) {\n      setChancellor(null)\n      return\n    }\n  }\n\n  if (!game.started) {\n    return (\n      <div className=\"container\">\n        <PlayerList game={game} playerName={name} onPlayerClick={handlePlayerClick} />\n        {hosting && (\n          <div className=\"row mt-3\">\n            <div className=\"col\">\n              <button className=\"btn btn-primary\" onClick={handleStart}>\n                Start Game\n              </button>\n            </div>\n          </div>\n        )}\n        <hr />\n        <EventList game={game} />\n      </div>\n    )\n  }\n\n  const wasLastPresident = get(game, 'lastPresident') === name\n  const gameOver = isGameOver(game)\n\n  if (viewingIdentity) {\n    return <RoleReveal game={game} playerName={chosenPlayer} handleOkay={dismissReveal} />\n  }\n\n  if (game.presidentShouldInvestigate && wasLastPresident) {\n    return (\n      <>\n        <PlayerList\n          headline={'Choose a player to investigate'}\n          game={game}\n          playerName={name}\n          onPlayerClick={handleChoosePlayer}\n        />\n      </>\n    )\n  }\n\n  return (\n    <div className=\"container\">\n      <h2>Secret {capitalize(redTeamLeader)}</h2>\n      <RoleModal game={game} playerName={name} />\n      <SpecialRulesModal game={game} />\n      <GameStatus game={game} />\n\n      <div className=\"row mt-3\">\n        <div className=\"col\">\n          <p>\n            Your name:\n            <input\n              value={name}\n              onChange={(e) => {\n                setName(e.target.value)\n              }}\n            />\n          </p>\n        </div>\n      </div>\n      <ChoosePolicies game={game} playerName={name} gameRef={gameRef} />\n\n      <PlayerList\n        game={game}\n        playerName={name}\n        onPlayerClick={handlePlayerClick}\n        showRoles={gameOver}\n      />\n      <Government\n        game={game}\n        president={president}\n        chancellor={chancellor}\n        showPotentialGovernment={hosting}\n      />\n      <div className=\"row mt-3\">\n        {!game.governmentApproved && hosting && (\n          <>\n            <div className=\"col-4 col-md-3\">\n              <button className=\"btn btn-secondary\" onClick={setGovernment}>\n                Approve Government\n              </button>\n            </div>\n            <div className=\"col-4 col-md-3\">\n              <button\n                className=\"btn btn-secondary\"\n                onClick={() => {\n                  setGovernment(false)\n                }}\n              >\n                Reject Government\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n      {hosting && <ActionBar game={game} gameRef={gameRef} />}\n      <hr />\n      <EventList game={game} />\n    </div>\n  )\n}\n\nexport default withRouter(App)\n","import React, { useState } from 'react'\nimport produce from 'immer'\nimport words from './data/short-got.json'\nimport { random, capitalize } from 'lodash'\nimport { withRouter } from 'react-router-dom'\nimport * as firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport firestore from './firestore'\nimport { updateGame } from './utils'\nimport theme from './theme'\nimport App from './App'\n\nconst { redTeamLeader } = theme\n\nconst testPlayers = ['adam', 'cindy', 'david', 'edgar', 'fred', 'gary', 'helen', 'igor']\n\nconst defaultGame = {\n  players: testPlayers,\n  roles: {},\n  started: false,\n  host: null,\n  policies: [],\n  discards: [],\n  government: {\n    president: null,\n    chancellor: null,\n  },\n  governmentApproved: false,\n  events: [],\n  presidentHasChosen: false,\n  policyChoices: [],\n  enactedPolicies: [],\n  gameOver: false,\n  presidentShouldInvestigate: false,\n  presidentShouldKill: false,\n  vetoAvailable: false,\n  chancellorHasVetoed: false,\n  presidentRejectedVeto: false,\n  lastPresident: null,\n  lastChancellor: null,\n}\n\nconst randomChoice = (arr) => {\n  return arr[random(0, arr.length - 1)]\n}\n\nfunction Main(props) {\n  const [game, setGame] = useState(props.game || defaultGame)\n  const [gameCode, setGameCode] = useState(localStorage.getItem('gameCode') || '')\n  const [gameRef, setGameRef] = useState(props.gameRef || null)\n  const [name, setName] = useState(props.name || 'bb')\n  const [hosting, setHosting] = useState(false)\n  const [submitted, setSubmitted] = useState(false)\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    console.log('submit prevent')\n    setSubmitted(true)\n    const newGame = produce(game, (draft) => {\n      draft.players.push(name)\n    })\n    setGame(newGame)\n  }\n\n  const handleHosting = async (e) => {\n    e.preventDefault()\n    localStorage.setItem('gameCode', gameCode)\n    console.log('hosting!', gameCode)\n    setHosting(true)\n    let gRef = await firestore.collection('hgames').doc(gameCode)\n    setGameRef(gRef)\n    gRef.onSnapshot((doc) => {\n      const gameData = doc.data()\n      setGame(gameData)\n    })\n    gRef.update({\n      host: name,\n      lastUpdate: firebase.firestore.FieldValue.serverTimestamp(),\n    })\n  }\n\n  const handleCreateGame = async () => {\n    console.log('create game!')\n    const wordCode = randomChoice(words)\n    setGameCode(wordCode)\n    const event = `Game created. Code: ${wordCode}`\n    localStorage.setItem('gameCode', wordCode)\n    const newGame = produce(game, (draft) => {\n      draft.code = wordCode\n      draft.host = name\n      draft.events.push(event)\n    })\n    let gRef = await firestore.collection('hgames').doc(wordCode)\n\n    setGameRef(gRef)\n    gRef.onSnapshot((doc) => {\n      setGame(doc.data())\n    })\n    updateGame(gRef, newGame)\n    setHosting(true)\n\n    console.log(game)\n  }\n\n  const handleJoin = (e) => {\n    e.preventDefault()\n    props.history.push(`/g/${gameCode}`)\n    console.log(props.location)\n  }\n\n  if (!game.started && !game.code) {\n    return (\n      <div className=\"container\">\n        <h2>Secret {capitalize(redTeamLeader)}</h2>\n        <div className=\"row mt-3\">\n          <div className=\"col-3\">Take Over: </div>\n          <div className=\"col\">\n            <form onSubmit={handleHosting}>\n              <input\n                value={gameCode}\n                onChange={(e) => {\n                  setGameCode(e.target.value)\n                }}\n              />\n              <input type=\"submit\" />\n            </form>\n          </div>\n        </div>\n        <div className=\"row mt-3\">\n          <div className=\"col-3\">Join: </div>\n          <div className=\"col\">\n            <form onSubmit={handleJoin}>\n              <input\n                value={gameCode}\n                onChange={(e) => {\n                  setGameCode(e.target.value)\n                }}\n              />\n              <input type=\"submit\" />\n            </form>\n          </div>\n        </div>\n        <div className=\"row mt-3\">\n          <div className=\"col-3\">Create:</div>\n          <div className=\"col\">\n            {!submitted ? (\n              <form onSubmit={handleSubmit}>\n                <input\n                  value={name}\n                  onChange={(e) => {\n                    setName(e.target.value)\n                  }}\n                />\n                <input type=\"submit\" />\n              </form>\n            ) : (\n              <>\n                <p>Your name: {name}</p>\n                <button onClick={handleCreateGame}>Create Game</button>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return <App game={game} gameRef={gameRef} name={name} hosting={hosting} />\n}\n\nexport default withRouter(Main)\n","import React, { useEffect, useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { get } from 'lodash'\nimport produce from 'immer'\nimport firestore from './firestore'\nimport { updateGame } from './utils'\nimport App from './App'\n\nfunction Game(props) {\n  const [name, setName] = useState(localStorage.getItem('playerName') || '')\n  const [game, setGame] = useState(null)\n  const [gameRef, setGameRef] = useState(null)\n  const code = get(props, 'match.params.code', null)\n  const [submitted, setSubmitted] = useState(false)\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    console.log('submit prevent')\n    setSubmitted(true)\n    const { players } = game\n    if (players.includes(name)) {\n      console.log('name already registered')\n      return\n    }\n    if (game.started) {\n      console.log('Game already started!')\n      return\n    }\n    const newGame = produce(game, (draft) => {\n      draft.players.push(name)\n    })\n    localStorage.setItem('playerName', name)\n\n    updateGame(gameRef, newGame)\n  }\n\n  useEffect(() => {\n    const register = async () => {\n      const gRef = await firestore.collection('hgames').doc(code)\n      setGameRef(gRef)\n      gRef.onSnapshot((doc) => {\n        const gameData = doc.data()\n        setGame(gameData)\n      })\n    }\n    if (code !== null) {\n      register()\n    }\n    const playerName = localStorage.getItem('playerName')\n    if (playerName !== null) {\n      setName(playerName)\n    }\n  }, [code])\n\n  if (game === null) {\n    return null\n  }\n\n  if (!game.players.includes(name)) {\n    return (\n      <div className=\"container\">\n        <h2>Name not found!</h2>\n        {!submitted ? (\n          <form onSubmit={handleSubmit}>\n            <input\n              value={name}\n              onChange={(e) => {\n                setName(e.target.value)\n              }}\n            />\n            <input type=\"submit\" />\n          </form>\n        ) : (\n          <div className=\"row mt-3\">\n            <p>You are: {name}</p>\n          </div>\n        )}\n      </div>\n    )\n  }\n\n  return <App game={game} gameRef={gameRef} name={name} />\n}\n\nexport default withRouter(Game)\n","import React from 'react'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport Main from './Main'\nimport Game from './Game'\n\nfunction Routes() {\n  return (\n    <Router>\n      <div>\n        <Switch>\n          <Route exact path=\"/\">\n            <Main />\n          </Route>\n          <Route path=\"/g/:code\">\n            <Game />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  )\n}\n\nexport default Routes\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport './styles/index.scss'\nimport Routes from './Routes'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Routes />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}